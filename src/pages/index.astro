---
import AllHolidays from '~components/all-holidays.astro'
import Navigation from '~components/navigation.astro'
import UpcomingHolidays from '~components/upcoming-holidays.astro'
import Layout from '~layouts/layout.astro'
import dateExtractor from '~utils/date-extractor'
import { getHolidays } from '~utils/fetcher'

const holidays = await getHolidays()
const extractedHoliday = dateExtractor(holidays)
---

<Layout title='Harilibur | Hari libur nasional dan hari besar di Indonesia'>
  <UpcomingHolidays upcomingHolidays={extractedHoliday.upcomings} headerTitle='Bulan Ini' />
  <AllHolidays headerTitle='Bulan Depan' holidays={extractedHoliday.nextMonths} />

  <Navigation type='next' />
</Layout>
